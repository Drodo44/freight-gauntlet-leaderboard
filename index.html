<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Freight Gauntlet Leaderboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { margin: 0; padding: 0; background-color: #0e1a28; color: #f5f5f5; font-family: "Poppins", sans-serif; }
    h1 { margin: 0; padding: 20px 0; text-align: center; font-size: 2em; font-weight: 700; background-color: #132a4e; position: sticky; top: 0; z-index: 1000; }
    .container { width: 90%; max-width: 1200px; margin: 0 auto; padding: 20px; }
    .team-card { background-color: #1b2a3c; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.4); overflow: hidden; }
    .team-header { padding: 14px 20px; background: linear-gradient(135deg, #132a4e 0%, #0d3b66 100%); display: flex; justify-content: space-between; align-items: center; }
    .team-header h2 { font-size: 1.2em; font-weight: 600; margin: 0; }
    .team-header .total-score { font-size: 1em; background-color: #274060; padding: 6px 12px; border-radius: 8px; }
    .member-list { list-style: none; margin: 0; padding: 0; }
    .member { padding: 12px 20px; border-top: 1px solid #274060; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: background-color 0.3s ease; }
    .member:nth-child(odd) { background-color: #16243b; }
    .member:hover { background-color: #213559; }
    .member .name { font-size: 1em; display: flex; align-items: center; }
    .member .score { font-weight: bold; }
    .icon { margin-right: 8px; font-size: 1.1em; }
    details summary::-webkit-details-marker { display: none; }
    details { background-color: #0e1a28; }
    summary { list-style: none; outline: none; }
    .details-content { padding: 12px 24px; background-color: #0e1a28; border-top: 1px solid #274060; display: none; }
    details[open] .details-content { display: block; }
    .details-content ul { list-style: none; margin: 0; padding: 0; }
    .details-content li { margin: 4px 0; font-size: 0.9em; }
    .details-content p { margin: 0; font-size: 0.9em; }
    .gold .name, .gold .score { color: #FFD700; }
    .silver .name, .silver .score { color: #C0C0C0; }
    .bronze .name, .bronze .score { color: #CD7F32; }
    .eliminated .name, .eliminated .score { color: #FF4C4C; }
    .score-change { animation: scoreFlash 1s ease-in-out; }
    @keyframes scoreFlash { 0% { background-color: #274060; } 50% { background-color: #1b2a3c; } 100% { background-color: transparent; } }
    .rules-section { margin-top: 40px; }
    .rules-section summary { cursor: pointer; background-color: #1b2a3c; padding: 14px 20px; border-radius: 12px; font-size: 1.1em; font-weight: 600; }
    .rules-content { padding: 16px 20px; background-color: #16243b; border-radius: 0 0 12px 12px; border-top: 1px solid #274060; }
    .rules-content h3 { margin-top: 16px; font-size: 1.1em; font-weight: 600; }
    .rules-content p, .rules-content li { font-size: 0.9em; line-height: 1.4; }
    .rules-content ul { margin: 0 0 10px 20px; padding: 0; }
    .top-card { background-color: #1b2a3c; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.4); padding: 16px 20px; margin-bottom: 25px; }
    .top-card h3 { margin-top: 0; margin-bottom: 10px; font-size: 1.4em; font-weight: 600; }
    .top-list { list-style: none; margin: 0; padding: 0; }
    .top-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #274060; }
    .top-item:last-child { border-bottom: none; }
    .rank { font-weight: bold; margin-right: 8px; }
    .leaderboards { display: flex; flex-wrap: wrap; gap: 2rem; margin-top: 20px; }
    .leaderboards > div { flex: 1 1 50%; }
    .leaderboards .top-card { margin-bottom: 20px; }
  </style>
</head>
<body>
  <h1>Freight Gauntlet: Haul or Nothing</h1>
  <div class="container">
    <div class="leaderboards">
      <div id="top-leaderboard"></div>
      <div id="team-board"></div>
    </div>
    <div id="leaderboard"></div>

    <div class="rules-section">
      <details>
        <summary>Competition Rules & Scoring Guide</summary>
        <div class="rules-content">
          <h3>Competition Structure</h3>
          <p>Freight Gauntlet is a 2-week, 2-round competition. Each of 11 teams starts with four players, except Team 11 which has five. Individual scores accumulate to team totals. The bottom five individual scorers after week 1 are eliminated.</p>
          <h3>Scoring by Role</h3>
          <ul>
            <li><strong>LAET:</strong> 250 calls = Qualifier; +25 pts per 50 calls above 250; +5 pts per cover/group cover; +25 pts per prospecting close &lt;$382; +50 pts per prospecting close &gt;$382; +50 pts if BR/Load avg &gt; $382.</li>
            <li><strong>Proving Grounds/Junior:</strong> 350/250 calls qualifier; +15 pts per 25 calls above baseline; +20 pts per close; +25 pts per $250 (PG) / $500 (Junior) revenue above plan; +50 pts if BR/Load avg &gt; $382.</li>
            <li><strong>LAE &gt;5k:</strong> 50 calls = Qualifier; +20 pts per 25 calls above 50; +25 pts per $250 BR &gt; T12; +20 pts per close; +5 pts per assist; +50 pts if BR/Load avg &gt; $382.</li>
            <li><strong>Vet (5+ years):</strong> +25 pts per $750 YOY growth; +25 pts per 15 calls; +5 pts per assist; +50 pts if BR/Load avg &gt; $382.</li>
          </ul>
        </div>
      </details>
    </div>
  </div>

  <script>
    const accentColors = ['#5A67D8','#ED8936','#48BB78','#D53F8C','#4299E1','#ECC94B','#F6AD55','#4FD1C5','#9F7AEA','#38B2AC','#F56565'];

    /* === ELIMINATED (fixed five) === */
    const ELIMINATED = new Set([
      "Clarens Legagneur",      // Team 1
      "Nicholas Peffenberger",  // Team 2
      "Jacob Archer",           // Team 4
      "Justin Bagent",          // Team 10
      "Courtney Monroy"         // Team 11
    ]);

    /* === DATA (today's totals already applied) === */
    const teams = [
      { name: "Team 1", members: [
        { name: "Nicholas Nguyen", score: 375, details: [
          { label: "$10,277 YOY Growth (13×$750)", points: 325 },
          { label: "BR/Load > $382 (Week Avg)", points: 50 }
        ]},
        { name: "Clarens Legagneur", score: 0, details: [
          { label: "Eliminated (Week 1)", points: 0 }
        ]},
        { name: "Aaron Wofford", score: 105, details: [
          { label: "302 Calls > 250", points: 25 },
          { label: "16 Covers", points: 80 }
        ]},
        { name: "Bobby Meyer", score: 185, details: [
          { label: "353 Calls > 250", points: 50 },
          { label: "25 Covers", points: 125 },
          { label: "2 Group Covers", points: 10 }
        ]}
      ]},
      { name: "Team 2", members: [
        { name: "Jordan DeWitt (PG)", score: 0, details: [] },
        { name: "Hau Cing", score: 130, details: [
          { label: "337 Calls > 250", points: 25 },
          { label: "21 Covers", points: 105 }
        ]},
        { name: "Emily Smith", score: 55, details: [
          { label: "262 Calls > 250", points: 0 },
          { label: "11 Covers", points: 55 }
        ]},
        { name: "Nicholas Peffenberger", score: 0, details: [
          { label: "Eliminated (Week 1)", points: 0 }
        ]}
      ]},
      { name: "Team 3", members: [
        { name: "Jack Sullivan", score: 100, details: [
          { label: "Revenue Above Plan +$1,200 (4×$250)", points: 100 }
        ]},
        { name: "Henry Baker", score: 240, details: [
          { label: "619 Calls > 250", points: 175 },
          { label: "11 Covers", points: 55 },
          { label: "2 Group Covers", points: 10 }
        ]},
        { name: "Jared Kohn", score: 230, details: [
          { label: "653 Calls > 250", points: 200 },
          { label: "6 Covers", points: 30 }
        ]},
        { name: "Robert Hudson", score: 50, details: [
          { label: "BR/Load > $382 (Week Avg)", points: 50 }
        ]}
      ]},
      { name: "Team 4", members: [
        { name: "Jacob Archer", score: 0, details: [
          { label: "Eliminated (Week 1)", points: 0 }
        ]},
        { name: "Jack Heyob", score: 450, details: [
          { label: "$13,940 YOY Growth (18×$750)", points: 450 }
        ]},
        { name: "Jared Miller", score: 40, details: [
          { label: "287 Calls > 250", points: 0 },
          { label: "8 Covers", points: 40 }
        ]},
        { name: "Jennifer Fike", score: 0, details: [
          { label: "Did not hit call qualifier week 1", points: 0 }
        ]}
      ]},
      { name: "Team 5", members: [
        { name: "James Holcomb", score: 85, details: [
          { label: "50 Calls (3×15)", points: 75 },
          { label: "2 Assists", points: 10 }
        ]},
        { name: "Matias Janice", score: 95, details: [
          { label: "Revenue Above Plan +$1,500 (3×$500)", points: 75 },
          { label: "1 Close", points: 20 }
        ]},
        { name: "Joseph Kisselle", score: 35, details: [
          { label: "347 Calls > 250", points: 25 },
          { label: "1 Cover", points: 5 },
          { label: "1 Group Cover", points: 5 }
        ]},
        { name: "Joseph Wolf", score: 150, details: [
          { label: "596 Calls > 250", points: 150 }
        ]}
      ]},
      { name: "Team 6", members: [
        { name: "Vincent Waters", score: 40, details: [
          { label: "2 Closes", points: 40 }
        ]},
        { name: "James McMullen", score: 0, details: [] },
        { name: "Maddie Evanchik", score: 0, details: [
          { label: "Did not hit call qualifier week 1", points: 0 }
        ]},
        { name: "Matthew Snawder", score: 0, details: [
          { label: "Did not hit call qualifier week 1", points: 0 }
        ]},
        { name: "Krish Daraji", score: 160, details: [
          { label: "305 Calls > 250", points: 25 },
          { label: "26 Covers", points: 130 },
          { label: "1 Group Cover", points: 5 }
        ]}
      ]},
      { name: "Team 7", members: [
        { name: "Andrew Connellan", score: 300, details: [
          { label: "BR > T12 +$2,560 (10×$250)", points: 250 },
          { label: "10 Assists", points: 50 }
        ]},
        { name: "Sydney Tiberghien", score: 40, details: [
          { label: "262 Calls > 250", points: 0 },
          { label: "8 Covers", points: 40 }
        ]},
        { name: "Kyle Taylor", score: 25, details: [
          { label: "Revenue Above Plan +$525 (1×$500)", points: 25 }
        ]},
        { name: "Eric Isaacs", score: 0, details: [] }
      ]},
      { name: "Team 8", members: [
        { name: "Miguel Cordoba", score: 210, details: [
          { label: "424 Calls > 250", points: 75 },
          { label: "25 Covers", points: 125 },
          { label: "2 Group Covers", points: 10 }
        ]},
        { name: "Anthony Gordon", score: 1125, details: [
          { label: "BR > T12 +$10,942 (43×$250)", points: 1075 },
          { label: "BR/Load > $382 (Week Avg)", points: 50 }
        ]},
        { name: "Brian Braverman", score: 0, details: [
          { label: "No YOY Growth (Week 1)", points: 0 }
        ]},
        { name: "Quinn Fashingbauer", score: 0, details: [] }
      ]},
      { name: "Team 9", members: [
        { name: "Rachel Hack", score: 325, details: [
          { label: "720 Calls > 250", points: 225 },
          { label: "17 Covers", points: 85 },
          { label: "3 Group Covers", points: 15 }
        ]},
        { name: "Anthony Fambry", score: 100, details: [
          { label: "$3,330 YOY Growth (4×$750)", points: 100 }
        ]},
        { name: "Seth Klink", score: 0, details: [
          { label: "Did not hit call qualifier week 1", points: 0 }
        ]},
        { name: "Andrew Hayes", score: 0, details: [
          { label: "No YOY Growth (Week 1)", points: 0 }
        ]}
      ]},
      { name: "Team 10", members: [
        { name: "Brandon Fuller", score: 25, details: [
          { label: "$1,023 YOY Growth (1×$750)", points: 25 }
        ]},
        { name: "Dustin Schneider", score: 0, details: [
          { label: "No YOY Growth (Week 1)", points: 0 }
        ]},
        { name: "Justin Bagent", score: 75, details: [
          { label: "322 Calls > 250", points: 25 },
          { label: "10 Covers", points: 50 },
          { label: "Eliminated (Week 1)", points: 0 }
        ]},
        { name: "John Mcnulty", score: 0, details: [] },
        { name: "Ken Ervas", score: 50, details: [
          { label: "385 Calls > 250", points: 50 }
        ]}
      ]},
      { name: "Team 11", members: [
        { name: "Ryan Monahan", score: 170, details: [
          { label: "574 Calls > 250", points: 150 },
          { label: "4 Covers", points: 20 }
        ]},
        { name: "Brian Amshoff", score: 400, details: [
          { label: "$11,124 YOY Growth (14×$750)", points: 350 },
          { label: "31 Calls (2×15)", points: 50 }
        ]},
        { name: "Courtney Monroy", score: 0, details: [
          { label: "Eliminated (Week 1)", points: 0 }
        ]},
        { name: "Daniel Covol", score: 0, details: [] },
        { name: "Sarah Miracle", score: 20, details: [
          { label: "76 Calls (1×25 above 50)", points: 20 }
        ]}
      ]}
    ];

    /* === RENDER === */
    function renderLeaderboard() {
      const allMembers = [];
      teams.forEach(t => {
        t.total = t.members.reduce((s,m)=>s + (m.score||0), 0);
        t.members.forEach(m => allMembers.push({ name:m.name, score:m.score, team:t.name }));
      });

      const sortedDesc = [...allMembers].sort((a,b)=>b.score-a.score);
      const top3 = sortedDesc.slice(0,3).map(m=>m.name);
      const top5 = sortedDesc.slice(0,5);
      const sortedAsc = [...allMembers].sort((a,b)=>a.score-b.score || a.name.localeCompare(b.name));
      const minScore = sortedAsc.length ? sortedAsc[0].score : 0;
      const bottom5 = sortedAsc.filter(m=>m.score===minScore).map(m=>m.name);

      // Team leaderboard
      const teamBoard = document.getElementById('team-board');
      teamBoard.innerHTML = '';
      const sortedTeams = [...teams].sort((a,b)=>b.total-a.total);
      const teamCard = document.createElement('div');
      teamCard.className = 'top-card';
      teamCard.innerHTML = '<h3>Team Leaderboard</h3>';
      const teamList = document.createElement('ul'); teamList.className='top-list';
      sortedTeams.forEach((t, i) => {
        const li = document.createElement('li'); li.className='top-item';
        li.innerHTML = `<span class="rank">#${i+1}</span><span>${t.name}</span><span>${t.total} pts</span>`;
        teamList.appendChild(li);
      });
      teamCard.appendChild(teamList); teamBoard.appendChild(teamCard);

      // Top 5 overall
      const topContainer = document.getElementById('top-leaderboard');
      topContainer.innerHTML = '';
      const topCard = document.createElement('div'); topCard.className='top-card';
      topCard.innerHTML = '<h3>Top 5 Scorers Overall</h3>';
      const topList = document.createElement('ul'); topList.className='top-list';
      top5.forEach((m,i)=>{
        const li = document.createElement('li'); li.className='top-item';
        li.innerHTML = `<span class="rank">#${i+1}</span><span>${m.name}</span><span>${m.score} pts</span>`;
        topList.appendChild(li);
      });
      topCard.appendChild(topList); topContainer.appendChild(topCard);

      // Team cards
      const leaderboard = document.getElementById('leaderboard');
      leaderboard.innerHTML = '';
      teams.forEach((team, idxTeam) => {
        const card = document.createElement('div'); card.className='team-card';
        const header = document.createElement('div'); header.className='team-header';
        header.style.background = `linear-gradient(135deg, ${accentColors[idxTeam % accentColors.length]} 0%, #0d3b66 100%)`;
        card.style.borderLeft = `8px solid ${accentColors[idxTeam % accentColors.length]}`;
        header.innerHTML = `<h2>${team.name}</h2><div class="total-score">Total: ${team.total} pts</div>`;
        card.appendChild(header);

        // Team MVP
        let mvpName = ''; let mvpScore = -1;
        team.members.forEach(m => { if ((m.score||0) > mvpScore) { mvpScore = m.score||0; mvpName = m.name; } });

        const ul = document.createElement('ul'); ul.className='member-list';
        team.members.forEach(member => {
          const details = document.createElement('details');
          const summary = document.createElement('summary'); summary.className='member';

          // color classes
          let classes = '';
          if (top3.includes(member.name)) {
            const i = top3.indexOf(member.name);
            classes = i===0 ? 'gold' : i===1 ? 'silver' : 'bronze';
          }
          if (ELIMINATED.has(member.name) || bottom5.includes(member.name)) classes = 'eliminated';
          if (classes) summary.classList.add(classes);

          // icons: skull for eliminated, red flag for bottom 5, medals for top3, crown for team MVP
          let icon = '';
          if (ELIMINATED.has(member.name)) {
            icon = '☠️';
          } else if (top3.includes(member.name)) {
            const i = top3.indexOf(member.name);
            icon = i===0 ? '🥇' : i===1 ? '🥈' : '🥉';
          } else if (bottom5.includes(member.name)) {
            icon = '🚩';
          } else if (member.name===mvpName && (member.score||0)>0) {
            icon = '👑';
          }

          const nameDiv = document.createElement('div'); nameDiv.className='name';
          if (icon) { const s=document.createElement('span'); s.className='icon'; s.textContent=icon; nameDiv.appendChild(s); }
          const nameText = document.createElement('span'); nameText.textContent = member.name; nameDiv.appendChild(nameText);

          const scoreDiv = document.createElement('div'); scoreDiv.className='score'; scoreDiv.textContent = `${member.score} pts`;

          summary.appendChild(nameDiv); summary.appendChild(scoreDiv);

          const detailsContent = document.createElement('div'); detailsContent.className='details-content';
          if (member.details && member.details.length) {
            const ulDet = document.createElement('ul');
            member.details.forEach(it => {
              const li = document.createElement('li'); li.textContent = `${it.label}: ${it.points} pts`;
              ulDet.appendChild(li);
            });
            const liTot = document.createElement('li'); liTot.innerHTML = `<strong>Total</strong>: ${member.score} pts`;
            ulDet.appendChild(liTot);
            detailsContent.appendChild(ulDet);
          } else {
            const p = document.createElement('p'); p.textContent = 'No points awarded yet.';
            detailsContent.appendChild(p);
          }

          details.appendChild(summary); details.appendChild(detailsContent);
          const liWrap = document.createElement('li'); liWrap.appendChild(details);
          ul.appendChild(liWrap);
        });

        card.appendChild(ul); leaderboard.appendChild(card);
      });
    }

    renderLeaderboard();
  </script>
</body>
</html>
